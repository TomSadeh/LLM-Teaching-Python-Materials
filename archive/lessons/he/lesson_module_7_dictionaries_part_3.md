# שיעור: מילונים - חלק 3: בדיקה וגישה בטוחה

> **מודול**: module_7_dictionaries
> **חלק**: 3 מתוך 5
> **רמת קושי**: 2
> **משך**: 5-6 דקות

---

## מטרת למידה

בסוף חלק זה, התלמיד יוכל:

- לטפל במפתחות חסרים בחן באמצעות בדיקות `in` ושיטת `.get()`

---

## מושגי מפתח

| מושג | הסבר במשפט אחד |
|------|----------------|
| אופרטור `in` | לבדוק אם מפתח קיים: `if "name" in my_dict:` |
| שיטת `.get()` | מאחזרת ערך בבטחה, מחזירה None (או ברירת מחדל) אם המפתח לא קיים |
| KeyError | השגיאה שפייתון מעלה כשמנסים לגשת למפתח שלא קיים |

---

## תוכן השיעור

### בהמשך לחלק 2

עכשיו אנחנו יכולים ליצור, לקרוא, ולשנות מילונים. אבל מה קורה כשמנסים לגשת למפתח שלא קיים? בואו נלמד לטפל בזה בבטחה.

### בעיית ה-KeyError

```python
character = {"name": "{{hero}}", "age": 11}
print(character["pet"])  # KeyError! המפתח "pet" לא קיים
```

### בדיקה עם `in`

לפני גישה, לבדוק אם המפתח קיים:

```python
character = {"name": "{{hero}}", "age": 11}

if "pet" in character:
    print(character["pet"])
else:
    print("No pet found")
# פלט: No pet found
```

### גישה בטוחה עם `.get()`

שיטת `.get()` מחזירה `None` אם המפתח לא קיים (ללא שגיאה):

```python
character = {"name": "{{hero}}", "age": 11}

pet = character.get("pet")
print(pet)  # פלט: None

# אפשר גם לספק ערך ברירת מחדל:
pet = character.get("pet", "no pet")
print(pet)  # פלט: no pet
```

### השוואה בין שתי הגישות

```python
# שיטה 1: בדיקה עם 'in' קודם (טוב כשרוצים לעשות משהו שונה)
if "spell" in wizard:
    cast_spell(wizard["spell"])
else:
    print("No spell equipped!")

# שיטה 2: שימוש ב-.get() עם ברירת מחדל (טוב לברירות מחדל פשוטות)
spell = wizard.get("spell", "{{spell1}}")
cast_spell(spell)
```

### לשים לב

- **שכחת בדיקת `in`**: תלמידים עשויים לגשת למפתחות ישירות ולקבל KeyError
- **בלבול בפרמטרים של `.get()`**: הפרמטר השני הוא ברירת המחדל, לא משהו אחר

---

## תרגילי תרגול

| תרגיל | הערות |
|-------|-------|
| exercise_5_translator | תרגול חיפוש במילון עם טיפול במפתחות חסרים |

---

## נקודת בדיקה

לשאול: "מה ההבדל בין `dict['key']` ל-`dict.get('key')`?"
צפוי: `dict['key']` מעלה KeyError אם המפתח לא קיים, בעוד ש-`dict.get('key')` מחזיר None (או ערך ברירת מחדל שמציינים)

---

## אם התלמיד מתקשה

- **אם מקבל KeyError**: תמיד להדגים בדיקה עם `in` לפני גישה, או לעבור לשימוש ב-`.get()`
- **אם מבולבל מתי להשתמש בכל אחד**: להשתמש ב-`in` כשצריך לוגיקה שונה למפתח קיים/חסר. להשתמש ב-`.get()` כשפשוט רוצים ערך ברירת מחדל.
