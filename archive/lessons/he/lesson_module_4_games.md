# שיעור: משחקים (לולאות While ואקראיות)

> **מודול**: module_4_games
> **רמת קושי**: 2
> **משך**: 25-30 דקות

---

## דרישות קדם

מה התלמיד צריך לדעת לפני השיעור:

- [ ] משתנים וקלט/פלט
- [ ] משפטי if/elif/else
- [ ] רשימות ולולאות for
- [ ] אופרטורי השוואה בסיסיים

---

## מטרות למידה

בסוף השיעור, התלמיד יוכל:

1. להשתמש בלולאות `while` לחזרה לא מוגדרת
2. לייצר מספרים אקראיים עם `random.randint()`
3. ליצור לולאות משחק שממשיכות עד שמתקיים תנאי
4. לעקוב אחר מצב המשחק באמצעות משתנים (ניקוד, ניסיונות וכו')
5. להשתמש ב-`break` ליציאה מוקדמת מלולאה

---

## מושגי מפתח

| מושג | הסבר במשפט אחד |
|------|----------------|
| לולאת `while` | חוזרת כל עוד תנאי הוא True (בניגוד ל-`for` שחוזר מספר קבוע של פעמים) |
| `random.randint(a, b)` | מחזיר מספר שלם אקראי בין a ל-b, כולל שניהם |
| לולאת משחק (Game loop) | לולאת while שמשאירה את המשחק פועל עד ניצחון/הפסד/יציאה |
| `break` | יוצא מיד מהלולאה הנוכחית |
| משתנה מצב | משתנה שעוקב אחרי משהו לאורך איטרציות רבות (כמו ניקוד) |

---

## תפיסות שגויות נפוצות

1. **לולאות אינסופיות**: שכחה לעדכן את משתנה התנאי
   **המציאות**: תנאי הלולאה חייב בסוף להפוך ל-False, או להשתמש ב-`break`

2. **טעות של אחד עם randint**: חשיבה ש-`randint(1, 10)` לא כולל 10
   **המציאות**: `randint` כולל את שני הקצוות (בניגוד ל-`range`)

3. **בלבול break ו-continue**: שימוש ב-break כשרוצים לדלג לאיטרציה הבאה
   **המציאות**: `break` יוצא מהלולאה לגמרי; `continue` מדלג לאיטרציה הבאה

4. **אי ייבוא random**: ניסיון להשתמש בפונקציות random בלי `import random`
   **המציאות**: תמיד צריך `import random` בראש הקובץ

---

## רצף ההוראה

### שלב 1: יסודות לולאת while
- להשוות ללולאת for: "תעשה את זה כל עוד משהו נכון"
- דוגמה פשוטה: ספירה לאחור מ-5
- להדגיש: התנאי נבדק לפני כל איטרציה
- לשים לב ל: לולאות אינסופיות, שכחה לעדכן מונה

### שלב 2: מספרים אקראיים
- `import random` - להסביר ייבוא בקצרה
- `random.randint(1, 10)` - מספר אקראי מ-1 עד 10
- להראות שזה נותן תוצאות שונות כל פעם
- לשים לב ל: שכחת הייבוא, תחביר לא נכון

### שלב 3: משחק ניחוש פשוט
- המחשב בוחר מספר אקראי
- השחקן מנחש עד שמצליח
- לתת רמזים "גבוה יותר/נמוך יותר"
- יישום קלאסי של while + random + תנאים
- לשים לב ל: אי עדכון הניחוש בתוך הלולאה

### שלב 4: מצב משחק וניקוד
- לעקוב אחר מספר ניסיונות
- להוסיף מערכת ניקוד
- להגביל מספר ניחושים
- לשים לב ל: איפוס ניקוד בתוך הלולאה במקום לפניה

### שלב 5: Break ולולאות תפריט
- שימוש ב-`break` ליציאה כשהשחקן יוצא
- יצירת תפריט שחוזר עד בחירת "יציאה"
- לשים לב ל: שימוש ב-break מחוץ ללולאה, בלבול break לעומת return

---

## מיפוי תרגילים

| תרגיל | מושגים מכוסים | הערות |
|-------|---------------|-------|
| exercise_1_guess_number | while, randint, תנאים | מכניקות משחק ליבה |
| exercise_2_rock_paper_scissors | random.choice, תנאים | משחק קלאסי |
| exercise_3_dice | randint, צבירת ניקוד | אקראיות פשוטה |
| exercise_4_high_low | randint, השוואה, לולאות | וריאנט משחק קלפים |
| exercise_5_word_scramble | random.shuffle, רשימות | מניפולציית מחרוזות |
| exercise_6_slots | randint מרובים, התאמה | משחק ויזואלי |
| exercise_7_trivia | רשימות, תנאים, ניקוד | משחק חידון |
| exercise_8_hangman | איטרציה על מחרוזת, מצב | משחק מילים קלאסי |
| exercise_9_adventure | לולאות מקוננות, מצב | הרפתקת טקסט |

---

## נקודות בדיקה

### אחרי שלב 1 (לולאת while)
לשאול: "מה קורה אם תנאי ה-while אף פעם לא False?"
צפוי: הלולאה רצה לנצח (לולאה אינסופית)

### אחרי שלב 2 (random)
לשאול: "מה צריך בראש הקובץ כדי להשתמש ב-random?"
צפוי: `import random`

### אחרי שלב 3 (משחק ניחוש)
לשאול: "במשחק הניחוש, מה צריך לקרות אחרי ניחוש לא נכון?"
צפוי: לבקש ניחוש נוסף (הלולאה ממשיכה)

### סוף השיעור
לשאול: "איך היית נותן לשחקן לשחק שוב אחרי ניצחון?"
צפוי: לעטוף את המשחק בלולאת while נוספת עם שאלת "לשחק שוב?"

---

## אם התלמיד מתקשה

- **אם יוצר לולאות אינסופיות**: להוסיף הדפסות כדי להראות מה קורה בכל איטרציה
- **אם מבולבל לגבי while לעומת for**: "for = מספר ידוע של פעמים; while = עד שמשהו קורה"
- **אם הלוגיקה של המשחק לא נכונה**: לפרק לחתיכות קטנות יותר - קודם להפעיל את המספר האקראי, ואז להוסיף את הלולאה
- **אם לא מקבל אקראיות**: להסביר ש-`randint` באמת אקראי - אי אפשר לנחש אותו

---

## רעיונות להרחבה

לתלמידים שמסיימים מוקדם או רוצים אתגר נוסף:

- להוסיף רמות קושי (קל = פחות מספרים, קשה = יותר)
- ליצור משחק לשני שחקנים
- לעשות עטיפת "הטוב מתוך 3" סביב משחק
- להוסיף מערכת שיא שנשמרת בין משחקים

---

## קשר לעולם האמיתי

> "לכל משחק שאתם משחקים יש לולאת משחק שרצה - מיינקראפט בודק את הקלט שלכם, מעדכן את העולם, ומצייר מחדש את המסך פעמים רבות בשנייה, הכל בלולאת while."

---

## הערות למורה LLM

- משחקים מאוד מניעים - לתת לתלמידים להתאים אישית ולהוסיף תכונות
- להתחיל עם הגרסה הפשוטה ביותר האפשרית ולהוסיף מורכבות בהדרגה
- לולאות אינסופיות יכולות להקפיא את הסביבה - ללמד Ctrl+C מוקדם
- לעודד ניסויי "מה אם" עם טווחים אקראיים וכללי משחק
- לחגוג כשמשחקים עובדים - זה לעתים קרובות רגע פריצת דרך למעורבות
